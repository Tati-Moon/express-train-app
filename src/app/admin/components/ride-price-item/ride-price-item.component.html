<td>
    <p-tag
        severity="warning"
        class="mb-2"
        [rounded]="true"
        value="{{ 'RIDE_PAGE.FIELDS.PRICE.NAME' | translate }}:"
    ></p-tag>

    @if (editPriceIndex === index && selectedRideId === schedule.rideId) {
        <form [formGroup]="pricesForm">
            <div formArrayName="prices">
                <div *ngFor="let priceGroup of prices.controls; let i = index">
                    <div [formGroupName]="i" class="form-group mb-2">
                        <ng-container *ngFor="let key of getObjectKeys(priceGroup.value)">
                            <label for="item-{{ i }}-{{ key }}" class="block">{{ key }}</label>
                            <input
                                id="item-{{ i }}-{{ key }}"
                                placeholder="{{ 'RIDE_PAGE.FIELDS.PRICE.PLACEHOLDER' | translate }}"
                                pInputText
                                type="number"
                                [formControlName]="key"
                                class="ng-dirty w-full"
                                required
                            />
                        </ng-container>
                    </div>
                </div>
            </div>
        </form>
    } @else {
        @for (key of getObjectKeys(schedule.segments[index || 0].price); track $index) {
            <div>{{ key }} - {{ schedule.segments[index || 0].price[key] }}</div>
        }
    }
</td>
<td>
    @if (editPriceIndex !== index || selectedRideId !== schedule.rideId) {
        <p-button
            icon="pi pi-pencil"
            (click)="onEditPrices()"
            [rounded]="true"
            [text]="true"
            [raised]="true"
        ></p-button>
    }
    @if (editPriceIndex === index && selectedRideId === schedule.rideId) {
        <p-button icon="pi pi-save" (click)="onSavePrices()" [rounded]="true"></p-button>
    }
</td>
